(this["webpackJsonpecommerce-client"]=this["webpackJsonpecommerce-client"]||[]).push([[0],{18:function(e,a,t){},37:function(e,a,t){e.exports=t(64)},64:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(33),c=t.n(r),s=t(3),i=t(4),m=t(6),o=t(5),u=t(7),d=t(12),E=t(9),h=t(19),p=t(15),b=t(2),f=t(16),v=t.n(f),g=(t(18),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(o.a)(a).call(this,e))).signup=function(){v.a.post("".concat("https://minacre8s.herokuapp.com/api","/signup"),t.state,{withCredentials:!0}).then((function(e){t.setState({firstName:"",lastName:"",email:"",password:"",error:null,success:!0})})).catch((function(e){t.setState({error:e.response.data.message})}))},t.showError=function(){return l.a.createElement("div",{style:{display:t.state.error?"":"none"}}," ",t.state.error)},t.signupForm=function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Sign Up"),t.showError(),l.a.createElement("div",{className:"row"},l.a.createElement("form",{className:"col s10",onSubmit:t.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s5"},l.a.createElement(b.a,{className:" prefix material-icons black-text"}),l.a.createElement("input",{name:"firstName",value:t.state.firstName,onChange:t.handleChange,id:"firstName",type:"text",className:"validate"}),l.a.createElement("label",{htmlFor:"firstName"},"First Name"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s5"},l.a.createElement(b.a,{className:" prefix material-icons black-text"}),l.a.createElement("input",{name:"lastName",value:t.state.lastName,onChange:t.handleChange,id:"lastName",type:"text",className:"validate"}),l.a.createElement("label",{htmlFor:"lastName"},"Last Name"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s5"},l.a.createElement(b.c,{className:" prefix material-icons black-text"}),l.a.createElement("input",{name:"email",value:t.state.email,onChange:t.handleChange,id:"email",type:"email",className:"validate"}),l.a.createElement("label",{htmlFor:"email"},"Email"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s5"},l.a.createElement(b.b,{className:" prefix material-icons black-text"}),l.a.createElement("input",{name:"password",value:t.state.password,onChange:t.handleChange,id:"password",type:"password",className:"validate"}),l.a.createElement("label",{htmlFor:"password"},"Password"))),l.a.createElement("button",{className:"btn waves-effect waves-light btnColor",type:"submit",name:"action"},l.a.createElement("span",null,"Submit")))))},t.state={firstName:"",lastName:"",email:"",password:"",error:null,success:!1},t.handleChange=t.handleChange.bind(Object(p.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(p.a)(t)),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({error:!1})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.signup()}},{key:"render",value:function(){return this.state.success?l.a.createElement(E.a,{to:"/signin"}):l.a.createElement("div",null,this.signupForm())}}]),a}(l.a.Component)),N=function(){return"undefined"!==typeof window&&(!!localStorage.getItem("User")&&JSON.parse(localStorage.getItem("User")))},w=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(o.a)(a).call(this,e))).signinForm=function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Sign In"),t.showError(),l.a.createElement("div",{className:"row"},l.a.createElement("form",{className:"col s10",onSubmit:t.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s5"},l.a.createElement(b.c,{className:" prefix material-icons black-text"}),l.a.createElement("input",{name:"email",value:t.state.email,onChange:t.handleChange,id:"email",type:"email",className:"validate"}),l.a.createElement("label",{htmlFor:"email"},"Email"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s5"},l.a.createElement(b.b,{className:" prefix material-icons black-text"}),l.a.createElement("input",{name:"password",value:t.state.password,onChange:t.handleChange,id:"password",type:"password",className:"validate"}),l.a.createElement("label",{htmlFor:"password"},"Password"))),l.a.createElement("button",{className:"btn waves-effect waves-light btnColor",type:"submit",name:"action"},l.a.createElement("span",null,"Submit")))))},t.showError=function(){return l.a.createElement("div",{style:{display:t.state.error?"":"none"}}," ",t.state.error)},t.state={email:"",password:"",error:null,success:!1},t.handleChange=t.handleChange.bind(Object(p.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(p.a)(t)),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({error:!1})}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),v.a.post("".concat("https://minacre8s.herokuapp.com/api","/login"),this.state,{withCredentials:!0}).then((function(e){var t,n;t=e,n=function(){a.setState({email:"",password:"",error:null,success:!0})},"undefined"!==typeof window&&(localStorage.setItem("User",JSON.stringify(t)),n())})).catch((function(e){a.setState({error:e.response.data.message})}))}},{key:"render",value:function(){return this.state.success?1===N().data.userDoc.role?l.a.createElement(E.a,{to:"/admin/dashboard"}):l.a.createElement(E.a,{to:"/user/dashboard"}):l.a.createElement("div",null,this.signinForm())}}]),a}(l.a.Component),O=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,"Landing Page")}}]),a}(l.a.Component),j=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"navMargin"},l.a.createElement("div",{className:"navbar-fixed nav-extended navHeight"},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper navBackground"},l.a.createElement("ul",{className:"left hide-on-med-and-down"},l.a.createElement("li",null,l.a.createElement(d.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/about"},"About"))),l.a.createElement("ul",{className:"right hide-on-med-and-down"},!N()&&l.a.createElement(n.Fragment,null,l.a.createElement("li",null,l.a.createElement(d.b,{to:"/signin"},"Signin")),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/signup"},"Signup"))),N()&&l.a.createElement("li",null,l.a.createElement(d.b,{to:"/",onClick:function(){return"undefined"!==typeof window&&localStorage.removeItem("User"),v.a.delete("".concat("https://minacre8s.herokuapp.com/api","/logout"),{withCredentials:!0}).then((function(e){console.log(e)})).catch((function(e){console.log("Logout ERROR",e)}))}},"Signout"))),l.a.createElement("ul",{className:"right hide-on-med-and-down"},l.a.createElement("li",null,l.a.createElement(d.b,{to:"/"},l.a.createElement(b.d,{className:"material-icons"}))),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/user/dashboard"},l.a.createElement(b.a,{className:"material-icons"}))))))))}}]),a}(l.a.Component),y=Object(E.g)(j),C=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("ul",{id:"slide-out",classNameName:"sidenav sidenav-fixed invesible-top"},l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"Dashboard")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"Products")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"Add Product")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"Categories")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"Add Category")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"Orders")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"Users")))}}]),a}(l.a.Component),S=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=N().data.userDoc,a=e.firstName,t=e.lastName,n=e.email,r=e.role,c=e._id;return l.a.createElement("div",null,l.a.createElement(C,null),l.a.createElement("div",{className:"main"},l.a.createElement("div",{id:"content",className:"row"},l.a.createElement("div",{className:"col s12 m6"},l.a.createElement("div",{className:"card blue-grey darken-1"},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title white-text"},"User Information"),l.a.createElement("ul",{class:"collection"},l.a.createElement("li",{class:"collection-item"},a," ",t),l.a.createElement("li",{class:"collection-item"},n),l.a.createElement("li",{class:"collection-item"},"Role: ",1===r?"Admin":"User"),l.a.createElement("li",{class:"collection-item"},"id: ",c))),l.a.createElement("div",{className:"card-action"},l.a.createElement("a",{href:"#"},"Edit User"))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 m6"},l.a.createElement("div",{className:"card blue-grey darken-1"},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title white-text"},"Order History"),l.a.createElement("ul",{class:"collection"},l.a.createElement("li",{class:"collection-item"},"Date"),l.a.createElement("li",{class:"collection-item"},"Time"),l.a.createElement("li",{class:"collection-item"},"Items Purchased"),l.a.createElement("li",{class:"collection-item"},"Total"))))))))}}]),a}(l.a.Component),k=t(36),x=function(e){var a=e.component,t=Object(k.a)(e,["component"]);return l.a.createElement(E.b,Object.assign({},t,{render:function(e){return N()?l.a.createElement(a,e):l.a.createElement(E.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},F=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(o.a)(a).call(this,e))).state={currentUser:null},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",null,l.a.createElement(y,null)),l.a.createElement("div",null,l.a.createElement(E.d,null,l.a.createElement(E.b,{path:"/",exact:!0,component:O}),l.a.createElement(E.b,{path:"/signin",exact:!0,component:w}),l.a.createElement(E.b,{path:"/signup",exact:!0,component:g}),l.a.createElement(x,{path:"/user/dashboard",exact:!0,component:S}))))}}]),a}(l.a.Component);c.a.render(l.a.createElement(F,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.f09851bf.chunk.js.map